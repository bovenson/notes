---
title: 设计模式 - 迭代器与组合模式
tags: 设计模式, 迭代器模式, 组合模式
---

[TOC]

# 迭代器模式

**迭代器模式：**提供一种方法顺序访问一个聚合对象中的各个元素，而又不暴露其内部的表示。

- 对遍历的封装

- 它依赖于一个名为迭代器的接口

  ![](img/note-09-01.png)

- 针对接口编程，而不是针对具体类

- 有一个统一的方法访问聚合中的每一个对象，你就可以编写多态的代码和这些聚合搭配

- 迭代器模式把在元素之间游走的责任交给迭代器，而不是聚合对象。这不仅让聚合的接口和实现变得更简洁，也可以让聚合更专注在它所应该专注的事情上面，而不必去理会遍历的事情

- 当我们写了一个需要以迭代器当做参数的方法时，其实就是在使用多态的迭代

## 类图

![](img/note-09-02.png)

# 单一责任原则

**单一责任原则：**一个类应该只有一个引起变化的原因。

- 当一个类有两个改变的原因，那么会使得该类变化机率上升
- 将一个责任只指派给一个类
- 尽量让一个类保持单一责任（或功能）

# 组合模式

**组合模式：**允许你将对象组合成树形结构来表现整体/部分层次结构。组合能让客户以一致的方式处理对象以及对象的组合。

- 组合模式让我们能用树形方式创建对象的结构，树里面包含了组合以及个别的对象